<h1>Camp Canine Store & Gift Shop</h1>
<p>For your regular staples or a little something special for your super duper special furry friend. </p>

<!-- heading changes with category name -->
  <% if params[:cat_id] %>
    <h2>All <%= @category.name.capitalize %></h2>
  <% else %>
    <h2>All Items</h2>
  <% end %>

<div class="row">
  <% @products.each do |product| %>
    <div class="col-sm-3">

    <!--TODO: this is how we made the whole div a link-->

      <div class="panel panel-default">
        <div class="panel-body">
        <p><a href="#" data-toggle="modal" data-target="#myModal_<%= product.id%>">
     <%= image_tag product.image.url(:medium), class: "img-responsive" %></a></p>
          <p><a href="#" data-toggle="modal" data-target="#myModal_<%= product.id%>"><span class="glyphicon glyphicon-plus"></span>
     Quick Info</a></p>
          <h4><%= product.name %></h4>
          <p><strong><%= number_to_currency product.price %></strong></p>

          <!-- TODO: add product rating capability
          <p>Made By: <%#= product.brand %></p>
          <p>
         <%# <% .rating.times do %>
            <span class="glyphicon glyphicon-star yellow"></span>
          <%#<% end %>
          </p> -->

          <%= button_to " Add to Cart", line_items_path(product_id: product), class: "btn btn-success btn-sm fa fa-cart-plus" %>

        </div><!--panel-body-->
      </div><!--panel panel-default-->
      
    </div><!--col-sm-3-->
    <!-- Modal -->
    <div class="modal fade" id="myModal_<%= product.id%>" tabinde="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title" id="myModalLabel"><%= product.name %></h4>
          </div> <!-- modal header -->
          <div class="modal-body">
            <center><%= image_tag product.image.url(:medium), class: "img-responsive" %></center>
            <p><%= number_to_currency product.price %></p>
            <p><%= product.description %></p>
          </div> <!-- modal body -->
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            <button type="button" class="btn btn-success" data-dismiss="modal"><i class="fa fa-cart-plus"></i> Add to Cart</button>
            <!-- TODO: remove or change to save to cart
            <button type="button" class="btn btn-primary">Save changes</button> -->
          </div><!-- modal footer -->
        </div> <!-- modal content -->
      </div> <!-- modal dialogue -->
    </div> <!-- modal fade -->
  <% end %>
</div><!--row-->
